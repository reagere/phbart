(()=>{window.goatcounter&&window.goatcounter.vars?window.goatcounter=window.goatcounter.vars:window.goatcounter=window.goatcounter||{};var t=document.querySelector("script[data-goatcounter]");if(t&&t.dataset.goatcounterSettings){try{var e=JSON.parse(t.dataset.goatcounterSettings)}catch(t){console.error("invalid JSON in data-goatcounter-settings: "+t)}for(var o in e)-1<["no_onload","no_events","allow_local","allow_frame","path","title","referrer","event"].indexOf(o)&&(window.goatcounter[o]=e[o])}function n(t){var e,o,n,r;return"function"==typeof(t={p:(void 0===t.path?goatcounter:t).path,r:(void 0===t.referrer?goatcounter:t).referrer,t:(void 0===t.title?goatcounter:t).title,e:!(!t.event&&!goatcounter.event),s:[window.screen.width,window.screen.height,window.devicePixelRatio||1],b:(t=window,e=document,t.callPhantom||t._phantom||t.phantom?150:t.__nightmare?151:e.__selenium_unwrapped||e.__webdriver_evaluate||e.__driver_evaluate?152:navigator.webdriver?153:0),q:location.search}).r&&(o=t.r),"function"==typeof t.t&&(r=t.t),"function"==typeof t.p&&(n=t.p),a(t.r)&&(t.r=document.referrer),a(t.t)&&(t.t=document.title),a(t.p)&&(t.p=c()),o&&(t.r=o(t.r)),r&&(t.t=r(t.t)),n&&(t.p=n(t.p)),t}function a(t){return null==t||"function"==typeof t}function r(t){console&&"warn"in console&&console.warn("goatcounter: "+t)}function i(){var t=document.querySelector("script[data-goatcounter]");return t&&t.dataset.goatcounter?t.dataset.goatcounter:goatcounter.endpoint||window.counter}function c(){var t,e=location,o=document.querySelector('link[rel="canonical"][href]');return(e=o&&((t=document.createElement("a")).href=o.href,t.hostname.replace(/^www\./,"")===location.hostname.replace(/^www\./,""))?t:e).pathname+e.search||"/"}function u(t){null===document.body?document.addEventListener("DOMContentLoaded",function(){t()},!1):t()}var l=encodeURIComponent;goatcounter.filter=function(){return"visibilityState"in document&&"prerender"===document.visibilityState?"visibilityState":goatcounter.allow_frame||location===parent.location?!goatcounter.allow_local&&location.hostname.match(/(localhost$|^127\.|^10\.|^172\.(1[6-9]|2[0-9]|3[0-1])\.|^192\.168\.|^0\.0\.0\.0$)/)?"localhost":goatcounter.allow_local||"file:"!==location.protocol?!(!localStorage||"t"!==localStorage.getItem("skipgc"))&&"disabled with #toggle-goatcounter":"localfile":"frame"},window.goatcounter.url=function(t){var e,t=n(t||{});if(null!==t.p)return t.rnd=Math.random().toString(36).substr(2,5),(e=i())?e+(t=>{var e,o=[];for(e in t)""!==t[e]&&null!=t[e]&&!1!==t[e]&&o.push(l(e)+"="+l(t[e]));return"?"+o.join("&")})(t):r("no endpoint found")},window.goatcounter.count=function(t){var e,o=goatcounter.filter();return o?r("not counting because of: "+o):(o=goatcounter.url(t))?void(navigator.sendBeacon(o)||((e=document.createElement("img")).src=o,e.style.position="absolute",e.style.bottom="0px",e.style.width="1px",e.style.height="1px",e.loading="eager",e.setAttribute("alt",""),e.setAttribute("aria-hidden","true"),e.addEventListener("load",function(){e&&e.parentNode&&e.parentNode.removeChild(e)},!1),document.body.appendChild(e))):r("not counting because path callback returned null")},window.goatcounter.get_query=function(t){for(var e=location.search.substr(1).split("&"),o=0;o<e.length;o++)if(0===e[o].toLowerCase().indexOf(t.toLowerCase()+"="))return e[o].substr(t.length+1)},window.goatcounter.bind_events=function(){document.querySelectorAll&&Array.prototype.slice.call(document.querySelectorAll("*[data-goatcounter-click]")).forEach(function(t){var e,o;t.dataset.goatcounterBound||((o=t).addEventListener("click",e=function(){goatcounter.count({event:!0,path:o.dataset.goatcounterClick||o.name||o.id||"",title:o.dataset.goatcounterTitle||o.title||(o.innerHTML||"").substr(0,200)||"",referrer:o.dataset.goatcounterReferrer||o.dataset.goatcounterReferral||""})},!1),t.addEventListener("auxclick",e,!1),t.dataset.goatcounterBound="true")})},window.goatcounter.visit_count=function(n){u(function(){(n=n||{}).type=n.type||"html",n.append=n.append||"body",n.path=n.path||c(),n.attr=n.attr||{width:"200",height:n.no_branding?"60":"80"},n.attr.src=i()+"er/"+l(n.path)+"."+l(n.type)+"?",n.no_branding&&(n.attr.src+="&no_branding=1"),n.style&&(n.attr.src+="&style="+l(n.style)),n.start&&(n.attr.src+="&start="+l(n.start)),n.end&&(n.attr.src+="&end="+l(n.end));var t={png:"img",svg:"img",html:"iframe"}[n.type];if(!t)return r("visit_count: unknown type: "+n.type);"html"===n.type&&(n.attr.frameborder="0",n.attr.scrolling="no");var e,o=document.createElement(t);for(e in n.attr)o.setAttribute(e,n.attr[e]);t=document.querySelector(n.append);if(!t)return r("visit_count: append not found: "+n.append);t.appendChild(o)})},"#toggle-goatcounter"===location.hash&&("t"===localStorage.getItem("skipgc")?(localStorage.removeItem("skipgc","t"),alert("GoatCounter tracking is now ENABLED in this browser.")):(localStorage.setItem("skipgc","t"),alert("GoatCounter tracking is now DISABLED in this browser until "+location+" is loaded again."))),goatcounter.no_onload||u(function(){var e;"visibilityState"in document&&"visible"!==document.visibilityState?(e=function(t){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",e),goatcounter.count())},document.addEventListener("visibilitychange",e)):goatcounter.count(),goatcounter.no_events||goatcounter.bind_events()})})();
